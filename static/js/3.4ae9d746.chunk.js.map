{"version":3,"sources":["modules/Auth/pages/Auth/styles.module.scss","modules/Auth/pages/Auth/validate.js","modules/Auth/pages/Auth/index.jsx","modules/Auth/pages/Auth/bindings.js"],"names":["module","exports","values","errors","username","password","Auth","memo","actions","useMapActions","authUser","authThunks","login","onSubmit","useCallback","a","accessToken","type","className","styles","container","form","validate","render","handleSubmit","submitting","pristine","noValidate","FullLoader","hasText","InputRow","InputWithForm","name","label","autoComplete","BaseButton","text","skin","disabled","isFull"],"mappings":"iHACAA,EAAOC,QAAU,CAAC,UAAY,0BAA0B,KAAO,uB,gKCDhD,WAACC,GACd,IAAMC,EAAS,GAUf,OARKD,EAAOE,WACVD,EAAOC,SAAW,kBAGfF,EAAOG,WACVF,EAAOE,SAAW,kBAGbF,G,kCC6CIG,EAAOC,gBA5CJ,WACd,IAAMC,ECTCC,YAAc,CACnBC,SAAUC,IAAWD,SACrBE,MAAOD,IAAWC,QDSdC,EAAWC,sBAAW,uCAC1B,WAAOZ,GAAP,mBAAAa,EAAA,sEACsCP,EAAQE,SAASR,GADvD,mBACUc,EADV,EACUA,YAAaC,EADvB,EACuBA,MAEjBD,EAHN,gBAIIR,EAAQI,MAAM,CAAEI,cAAaC,SAJjC,gDAMW,CAAEb,SAAU,mBAAoBC,SAAU,qBANrD,4CAD0B,sDAU1B,CAACG,IAGH,OACE,yBAAKU,UAAWC,IAAOC,WACrB,yBAAKF,UAAWC,IAAOE,MACrB,kBAAC,IAAD,CACEC,SAAUA,EACVT,SAAUA,EACVU,OAAQ,YAA6C,IAA1CC,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,SACnC,OACE,0BAAMb,SAAUW,EAAcG,YAAU,GACrCF,GAAc,kBAACG,EAAA,EAAD,CAAYC,SAAO,IAClC,6BACE,kBAACC,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAeC,KAAK,WAAWC,MAAM,eAEvC,kBAACH,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,CAAed,KAAK,WAAWe,KAAK,WAAWC,MAAM,WAAWC,aAAa,QAE/E,kBAACC,EAAA,EAAD,CAAYlB,KAAK,SAASmB,KAAK,UAAUC,KAAK,SAASC,SAAUb,GAAcC,EAAUa,QAAM,cAYlGjC","file":"static/js/3.4ae9d746.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__25F6X\",\"form\":\"styles_form__2rVZk\"};","export default (values) => {\n  const errors = {}\n\n  if (!values.username) {\n    errors.username = 'Required field'\n  }\n\n  if (!values.password) {\n    errors.password = 'Required field'\n  }\n\n  return errors\n}\n","import React, { memo, useCallback } from 'react'\nimport { Form } from 'react-final-form'\n\nimport BaseButton from 'src/components/BaseButton'\nimport InputRow from 'src/forms/InputRow'\nimport InputWithForm from 'src/forms/InputWithForm'\nimport FullLoader from 'src/components/FullLoader'\n\nimport validate from './validate'\nimport styles from './styles.module.scss'\nimport { useMappedActions } from './bindings'\n\nconst AuthRaw = () => {\n  const actions = useMappedActions()\n\n  const onSubmit = useCallback(\n    async (values) => {\n      const { accessToken, type } = await actions.authUser(values)\n\n      if (accessToken) {\n        actions.login({ accessToken, type })\n      } else {\n        return { username: 'Invalid username', password: 'Invalid password' }\n      }\n    },\n    [actions],\n  )\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.form}>\n        <Form\n          validate={validate}\n          onSubmit={onSubmit}\n          render={({ handleSubmit, submitting, pristine }) => {\n            return (\n              <form onSubmit={handleSubmit} noValidate>\n                {submitting && <FullLoader hasText />}\n                <div>\n                  <InputRow>\n                    <InputWithForm name=\"username\" label=\"User name\" />\n                  </InputRow>\n                  <InputRow>\n                    <InputWithForm type=\"password\" name=\"password\" label=\"Password\" autoComplete=\"on\" />\n                  </InputRow>\n                  <BaseButton type=\"submit\" text=\"Sign in\" skin=\"yellow\" disabled={submitting || pristine} isFull />\n                </div>\n              </form>\n            )\n          }}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport const Auth = memo(AuthRaw)\nexport default Auth\n","import { useMapActions } from 'src/hooks'\nimport { authThunks } from 'src/thunks'\n\nexport const useMappedActions = () => {\n  return useMapActions({\n    authUser: authThunks.authUser,\n    login: authThunks.login,\n  })\n}\n"],"sourceRoot":""}